<template name="users_index">
<h1>Users</h1>

<table class="table table-striped table-borderd">
  <tr>
    <th colspan="2">User</th>
    <th>Details</th>
    <th>Created</th>
    <th>Member</th>
    <th>Mod</th>
    <th>Admin</th>
  </tr>
  {{#each users}}
    <!-- TODO: build out a template for basic user details -->
    <tr>
      <td class="thumb">
        {{#if services.google.picture}}
          <img src="{{services.google.picture}}" alt="img: {{services.google.name}}" height="20">
        {{/if}}
        {{#if services.github.picture}}
          <img src="{{services.github.picture}}" alt="img: {{services.github.name}}" height="20">
        {{/if}}
      </td>
      <td>
        {{#if services.google.email}}
          <span class="label label-default"><i class="fa fa-google-plus"></i> {{services.google.email}}</span><br>
        {{/if}}
        {{#if services.github.email}}
          <span class="label label-default"><i class="fa fa-github"></i>
            <a href="https://github.com/{{services.github.username}}" target="_blank">
              {{services.github.email}}
            </a>
          </span><br>
        {{/if}}
      </td>
      <td>
        <strong>{{profile.name}}</strong>
      </td>
      <td>
        {{#if isMember _id}}
          <span class="label label-success">Member</span>
        {{else}}
          {{#if isInRole 'moderator'}}
            <a href="#makeMember" data-user-id="{{_id}}" class="btn btn-default btn-mini">Make Member</a>
          {{/if}}
        {{/if}}
      </td>
      <td>
        {{#if isModerator _id}}
          <span class="label label-success">Mod</span>
        {{else}}
          {{#if isInRole 'admin'}}
            <a href="#makeModerator" data-user-id="{{_id}}" class="btn btn-default btn-mini">Make Mod</a>
          {{/if}}
        {{/if}}
      </td>
      <td>
        {{#if isAdmin _id}}
          <span class="label label-success">Admin</span>
        {{else}}
          {{#if isInRole 'admin'}}
            <a href="#makeAdmin" data-user-id="{{_id}}" class="btn btn-default btn-mini">Make Admin</a>
          {{/if}}
        {{/if}}
      </td>
    </tr>
  {{/each}}
</table>

</template>
